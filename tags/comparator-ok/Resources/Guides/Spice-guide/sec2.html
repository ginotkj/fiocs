<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    DO NOT EDIT THIS PAGE! See http://newton.ex.ac.uk/schooldocs/it/
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<HEAD>
<TITLE>SPICE 3 User&#039;s Manual - Section 2</TITLE>
<meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1'>
<link REL='SHORTCUT ICON' HREF='/favicon.ico'> 
<link media='screen' rel='stylesheet' TYPE='text/css' href='/css/screen2.css'> 
<link media='print' rel='stylesheet' TYPE='text/css' href='/css/print.css'>
<link media='screen' rel='stylesheet' TYPE='text/css' href='/css/nosidebar.css'>
</head>
<body>

<!--  START OF NEW HEADER -->
<div id="x_wrapper">

<!--
<div class='maybemobile'>View this page on our
<a href='http://m-newton.ex.ac.uk/teaching/resources/CDHW/Electronics2/userguide/sec2.html'>mobile-friendly site</a>
</div>
-->

<table width='100%' id="x_header" cellpadding=0 cellspacing=0 border=0><tr>
  <td valign=top id="x_logo">
     <a href="http://www.ex.ac.uk/" title="University of Exeter"><img src="/furniture/logo.gif" alt="University of Exeter" class="logo" width="162" height="60"></a>

  <td valign=top id="x_department" align=left>
    <a href='/' class='verytop'>School of Physics</a>
    
      
  <td id="x_topnav" align=right valign=top>
      <div id="supernav">
          <a href="http://newton.ex.ac.uk/contact.html">Contact Us</a>
          | <a href="http://newton.ex.ac.uk/schooldocs/">Staff</a>
          | <a href="http://newton.ex.ac.uk/teaching/">Students</a>
          | <a href="http://www.ex.ac.uk/myexeter/">MyExeter</a>
          | <a href="http://newton.ex.ac.uk/quick-links/">Site map</a>
        </div>

        <div id="search">
	  <form method="get" action="/cgi-bin/htsearch" 
name="htsearchform" id="searchbox">
                        <input class="search" id="words" name ='words'
type="text" size="23" maxlength="80" title="Search the site"
onfocus='if(this.value==this.defaultValue)  this.value="";' 
value='  Search Physics'>
                       <input type=hidden name='config' value='htdig'>
<input name="submit" class="button" value="Search"  type="submit">

          </form>
        </div>
    </table>
<!-- NB div "wrapper" remains open -->
<!--  END OF NEW HEADER -->


<table cellspacing=0 cellpadding=0 class='phy-toptable'>

<tr>

<!-- SIDEBARROWSPAN = 2 -->




<td valign='top'>
      <div class="mainnav">
        <ul>
	<li><a 
	href="/" title="School" 
	class="studying">Home page</a>

<li><a	href="/teaching/" title="Teaching" 
	class="alumni">Our Teaching</a>

<li><a 	href="/research/" title="Research" 
	class="research">Our Research</a>

<li><a 	href="/admissions/" title="Admissions" 
	class="working">How to apply</a>

<li><a 	href="/features/" title="News" 
	class="business">News</a>

<li><a 	href="/research/positions/" title="Jobs" 
	class="jobs">Jobs</a>

      </ul>
    </div>


<tr>
<td class='phy-content' id='top' valign=top>
<div class='e-topcrumbs'>  <a href='/'>Home</a>  <b>&rsaquo;</b> <a href='./../../../../'>Our Teaching</a> <b>&rsaquo;</b> <a href='./../../../'>Resources</a> <b>&rsaquo;</b> <a href='./../../'>CDHW</a> <b>&rsaquo;</b> <a href='./../'>Electronics2</a> <b>&rsaquo;</b> <a href='./'>Userguide</a> <b>&rsaquo;</b> <span class='crumbs_here'>sec2.html</span></div>


<div class='phy-realcontent'>







<h1>SPICE 3 User&#039;s Manual - Section&nbsp;2</h1>






<!-- NavBar.SPICE.html START --><hr><div class=NOPRINT><table  width="100%" border=0 cellpadding=5 cellspacing=0 summary="Navigation Aid"><tr><th align=left ><font face='arial,helvetica' size=2><a href="index.html#toc">0. CONTENTS</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec1.html">1. INTRODUCTION</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec2.html">2. SYNTAX</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec3.html">3. COMPONENTS</a></font></th></tr><tr><th align=left ><font face='arial,helvetica' size=2><a href="sec4.html">4. ANALYSES</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec5.html">5. INTERPRETER</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec6.html">6. BIBLIOGRAPHY</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="index.html#app">APPENDICES</a></font></th></tr></table><hr></div><!-- NavBar.SPICE.html FINISH -->




<h2><a name="2">2 CIRCUIT DESCRIPTION</a></h2>


<h3><a name="2.1">2.1 GENERAL STRUCTURE AND CONVENTIONS</a></h3>
The circuit to be analyzed is described to SPICE  by  a set  of element lines, which define the circuit topology and element values, and a set of control lines, which define the model  parameters  and  the run controls.  The first line in the input file must be the title, and the last line must  be ".END".   The  order  of  the  remaining  lines is arbitrary (except, of course, that continuation lines must immediately follow the line being continued).
<p>
Each element in the circuit is specified by an  element line  that  contains  the element name, the circuit nodes to which the element is connected, and the values of the parameters  that  determine the electrical characteristics of the element.  The first letter of the element name specifies the element  type.   The  format  for the SPICE element types is given in what follows.  The strings  XXXXXXX,  YYYYYYY,  and ZZZZZZZ denote arbitrary alphanumeric strings.  For example, a resistor name must begin with the letter R and can contain one  or  more  characters.   Hence,  R,  R1,  RSE, ROUT, and R3AC2ZY are valid resistor names.  Details of each  type  of device are supplied in a following section.
<p>
Fields on a line are separated by one or more blanks, a comma,  an equal ('=') sign, or a left or right parenthesis; extra spaces are ignored.  A line may be continued by entering  a  '+'  (plus) in column 1 of the following line; SPICE continues reading beginning with column 2.
<p>
A name field must begin with a letter (A through Z) and cannot contain any delimiters.
<p>
A number field may be an integer  field  (12,  -44),  a floating  point field (3.14159), either an integer or floating point number followed by  an  integer  exponent  (1e-14, 2.65e3),  or  either  an  integer or a floating point number followed by one of the following scale factors:
<p>
<table align=center border=1>
<tr><td>T = 10<SUP>12</SUP><td>G = 10<SUP>9</SUP><td>Meg = 10<SUP>6</SUP><td>K = 10<SUP>3</SUP><td>mil = 25.4x10<SUP>-6</SUP>
<tr><td>m = 10<SUP>-3</SUP><td>u = 10<SUP>-6</SUP><td>n = 10<SUP>-9</SUP><td>p = 10<SUP>-12</SUP><td>f = 10<SUP>-15</SUP>
</table>
<p>
Letters immediately following a number that  are  not  scale factors  are  ignored,  and  letters immediately following a scale factor are ignored.  Hence, 10, 10V, 10Volts, and 10Hz all  represent  the  same number, and M, MA, MSec, and MMhos all represent  the  same  scale  factor.   Note  that  1000, 1000.0,  1000Hz,  1e3, 1.0e3, 1KHz, and 1K all represent the same number.
<p>
Nodes names may be arbitrary  character  strings.   The datum  (ground) node must be named '0'.  Note the difference in SPICE3 where the nodes are treated as  character  strings and not evaluated as numbers, thus '0' and '00' are distinct nodes in SPICE3 but not in SPICE2.  The circuit cannot  contain  a  loop of voltage sources and/or inductors and cannot contain a cut-set  of  current  sources  and/or  capacitors. Each  node  in  the  circuit  must have a dc path to ground. Every node must have at least  two  connections  except  for transmission line nodes (to permit unterminated transmission lines) and MOSFET substrate nodes (which have  two  internal connections anyway).

<h3><a name="2.2">2.2 TITLE LINE, COMMENT LINES AND .END LINE</a></h3>



<h4><a name="2.2.1">2.2.1 Title Line</a></h4>
<strong>Examples:</strong>
<pre>
     POWER AMPLIFIER CIRCUIT
     TEST OF CAM CELL
</pre>

The title line must be the first  in  the  input  file.
 Its  contents  are  printed verbatim as the heading for each
 section of output.

<h4><a name="2.2.2">2.2.2 .END Line</a></h4>
<strong>Examples:</strong>
<pre>
     .END
</pre>

 The "End" line must always be the last in the input
 file.   Note  that the period is an integral part of the
 name.


<h4><a name="2.2.3">2.2.3 Comments</a></h4>
<strong>General form:</strong>
<pre>
     * &lt;any comment&gt;
</pre>
<strong>Examples:</strong>
<pre>
     * RF=1K      Gain should be 100
     * Check open-loop gain and phase margin
</pre>

The asterisk in the  first  column  indicates  that
 this  line  is  a  comment  line.   Comment lines may be
 placed anywhere in the circuit description.   Note  that
 SPICE3  also considers any line with leading white space
 to be a comment.


<h3><a name="2.3">2.3 DEVICE MODELS</a></h3>
<strong>General form:</strong>
<pre>
     .MODEL MNAME TYPE(PNAME1=PVAL1 PNAME2=PVAL2 ... )
</pre>
<strong>Examples:</strong>
<pre>
     .MODEL MOD1 NPN (BF=50 IS=1E-13 VBF=50)
</pre>

Most simple circuit elements typically require  only  a
 few  parameter values.  However, some devices (semiconductor
 devices in particular) that are included  in  SPICE  require
 many parameter values.  Often, many devices in a circuit are
 defined by the same set of  device  model  parameters.   For
 these  reasons,  a set of device model parameters is defined
 on a separate .MODEL line and assigned a unique model  name.
 The  device  element  lines in SPICE then refer to the model
 name.
 
<p>

      For these more complex device types, each  device  element  line  contains the device name, the nodes to which the
 device is connected, and the device model  name.   In  addition,  other  optional  parameters may be specified for some
 devices:  geometric factors and an  initial  condition  (see
 the following section on Transistors and Diodes for more details).

<p>

      MNAME in the above is the model name, and type  is  one
 of the following fifteen types:
<p>
<table align=center border=1>
<tr><td>R<td>Semiconductor resistor model
<tr><td>C<td>Semiconductor capacitor model
<tr><td>SW<td>  Voltage controlled switch
<tr><td>CSW<td> Current controlled switch
<tr><td>URC<td> Uniform distributed RC model
<tr><td>LTRA<td>Lossy transmission line model
<tr><td>D<td>Diode model
<tr><td>NPN<td> NPN BJT model
<tr><td>PNP<td> PNP BJT model
<tr><td>NJF<td> N-channel JFET model
<tr><td>PJF<td> P-channel JFET model
<tr><td>NMOS<td>N-channel MOSFET model
<tr><td>PMOS<td>P-channel MOSFET model
<tr><td>NMF<td> N-channel MESFET model
<tr><td>PMF<td> P-channel MESFET model
</table>

<P>
Parameter values are defined by appending the parameter name  followed  by  an  equal  sign and the parameter value. Model parameters that are not given a value are assigned the default  values  given  below  for each model type.  Models, model parameters, and default values are listed in the  next section along with the description of device element lines.


<h3><a name="2.4">2.4 SUBCIRCUITS</a></h3>

A subcircuit that consists of  SPICE  elements  can  be defined  and  referenced  in  a  fashion  similar  to device models.  The subcircuit is defined in the input  file  by  a grouping  of  element lines;  the program then automatically inserts the group of elements  wherever  the  subcircuit  is referenced.   There is no limit on the size or complexity of subcircuits, and subcircuits may contain other  subcircuits. An example of subcircuit usage is given in <a href="secA.html#A.4">Appendix A</a>.


<h4><a name="2.4.1">2.4.1 .SUBCKT Line</a></h4>
<strong>General form:</strong>
<pre>
     .SUBCKT subnam N1 &lt;N2 N3 ...&gt;
</pre>
<strong>Examples:</strong>
<pre>
     .SUBCKT OPAMP 1 2 3 4
</pre>


A circuit definition is  begun  with  a  .SUBCKT  line. SUBNAM  is  the  subcircuit  name,  and  N1, N2, ... are the external nodes, which cannot be zero.  The group of  element lines  which  immediately follow the .SUBCKT line define the subcircuit.  The last line in a subcircuit definition is the .ENDS line (see below).  Control lines may not appear within a subcircuit definition;   however,  subcircuit  definitions may contain anything else, including other subcircuit definitions, device models, and  subcircuit  calls  (see  below). Note  that  any  device  models  or  subcircuit  definitions included as part of a  subcircuit  definition  are  strictly local  (<i>i.e.,</i> such models and definitions are not known outside the subcircuit definition).  Also,  any  element  nodes not  included  on  the .SUBCKT line are strictly local, with the exception of 0 (ground) which is always global.

<h4><a name="2.4.2">2.4.2 .ENDS Line</a></h4>
<strong>General form:</strong>
<pre>
     .ENDS &lt;SUBNAM&gt;
</pre>
<strong>Examples:</strong>
<pre>
     .ENDS OPAMP
</pre>

The "Ends" line must be the last one for  any  sub-circuit  definition.   The subcircuit name, if included,
 indicates which subcircuit definition is being terminated;   if omitted, all subcircuits being defined are terminated.  The name is needed only when nested subcircuit
 definitions are being made.


<h4><a name="2.4.3">2.4.3 Subcircuit Calls</a></h4>
<strong>General form:</strong>
<pre>
     XYYYYYYY N1 &lt;N2 N3 ...&gt; SUBNAM
</pre>
<strong>Examples:</strong>
<pre>
     X1 2 4 17 3 1 MULTI
</pre>

<p>Subcircuits  are  used  in  SPICE   by   specifying
 pseudo-elements beginning with the letter X, followed by
 the circuit nodes to be used in  expanding  the  subcircuit.
 
<p>[Note: the letter X used to specify subcircuits can be
 set via the variable <a href="sec5.html#subinvoke">subinvoke</a>. CDHW]

<h3><a name="2.5">2.5 COMBINING FILES: .INCLUDE LINES</a></h3>
<strong>General form:</strong>
<pre>
     .INCLUDE <u>filename</u>
</pre>
<strong>Examples:</strong>
<pre>
     .INCLUDE /users/spice/common/wattmeter.cir
</pre>


      Frequently, portions of circuit  descriptions  will  be
 reused  in  several  input  files,  particularly with common
 models and  subcircuits.   In  any  spice  input  file,  the
 ".INCLUDE"  line  may  be used to copy some other file as if
 that second file appeared in place of the ".INCLUDE" line in
 the original file.  There is no restriction on the file name
 imposed by spice beyond those imposed by the local operating
 system.

<DIV class=NOPRINT>
&nbsp;

<!-- NavBar.SPICE.html START --><hr><div class=NOPRINT><table  width="100%" border=0 cellpadding=5 cellspacing=0 summary="Navigation Aid"><tr><th align=left ><font face='arial,helvetica' size=2><a href="index.html#toc">0. CONTENTS</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec1.html">1. INTRODUCTION</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec2.html">2. SYNTAX</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec3.html">3. COMPONENTS</a></font></th></tr><tr><th align=left ><font face='arial,helvetica' size=2><a href="sec4.html">4. ANALYSES</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec5.html">5. INTERPRETER</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="sec6.html">6. BIBLIOGRAPHY</a></font></th><th align=left ><font face='arial,helvetica' size=2><a href="index.html#app">APPENDICES</a></font></th></tr></table><hr></div><!-- NavBar.SPICE.html FINISH -->

</DIV>





</div>

<div class='phy-forcewidth'>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
</div>
</table> <!-- End of main layout table -->
<hr id=xphy-bottom2>

<div class=noprint>
<table width='100%' border=0>
<tr>
<td valign=middle align=left>

<a href='http://validator.w3.org/check?uri=referer'>Validate</a>
 &nbsp;  
<a href='http://validator.w3.org/checklink?uri=referer'>Link-check</a>


<td valign=middle align=center>

<a href='http://newton.ex.ac.uk/general/copyright.html'>&copy; Copyright &amp; disclaimer</a>

<td valign=middle align='right'>

<!-- AddThis Button BEGIN -->
<a href="http://www.addthis.com/bookmark.php" target=sharethis><img class=addit src="/furniture/addthis.gif" width="125" height="16" border="0" alt="Share" title="Add this page to your favourite social networking sites"></a>
<!-- AddThis Button END -->

</table>

</div>

</div> <!-- wrapper -->

</body>
</html>
